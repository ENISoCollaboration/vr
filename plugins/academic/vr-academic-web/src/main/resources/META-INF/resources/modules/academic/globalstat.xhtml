<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"

      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
    </h:head>

    <h:body>


        <ui:composition template="/templates/template.xhtml">
            <ui:define name="content">
                <h:form id="buttonsForm">

                    <!-- /.row -->
                    <div class="row">
                        <p:outputLabel id="buttons">
                            <p:commandButton value="Rafr." icon="a-refresh" style="height: 40px;" styleClass="ui-ribbon-bigbutton vr-icon-aws" ajax="true" actionListener="#{globalStatCtrl.onRefresh}"  update=":listForm"/>
                        </p:outputLabel>
                    </div>

                </h:form>
                <h:form id="listForm">
                    <p:tabView>
                        <p:tab title="Valeurs Clé">
                            <div class="row">
                                <div class="table-responsive">
                                    <p:panelGrid>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header_"  colspan="6"><h1><p:outputLabel value="Nombre Enseignants"/></h1></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="Total Enseignants"/></p:column>
                                            <p:column ><p:outputLabel value="#{globalStatCtrl.model.stat.teachersCount}"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="Enseignants Permanents"/></p:column>
                                            <p:column ><p:outputLabel value="#{globalStatCtrl.model.stat.teachersPermanentCount}"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="Enseignants Contactuels"/></p:column>
                                            <p:column ><p:outputLabel value="#{globalStatCtrl.model.stat.teachersContractualCount}"></p:outputLabel></p:column>
                                        </p:row>                                    
                                        <p:row>

                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="Enseignants Vacataires"/></p:column>
                                            <p:column ><p:outputLabel value="#{globalStatCtrl.model.stat.teachersTemporaryCount}"></p:outputLabel></p:column>

                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="Autres Enseignants"/></p:column>
                                            <p:column ><p:outputLabel value="#{globalStatCtrl.model.stat.teachersOtherCount}"></p:outputLabel></p:column>
                                        </p:row>                                    
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Assistants pour combler Charges Supplémentaires hors du" /></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.neededAbsolute.teachersCount}"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Assistants pour combler Charges Supplémentaires"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.neededRelative.teachersCount}"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Enseignants restant à recruter"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.missing.teachersCount}"></p:outputLabel></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header_"  colspan="6"><h1><p:outputLabel value="Modules"/></h1></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Nombre Modules"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.coursePlanCount}"></p:outputLabel></p:column>

                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="Nombre Affectations"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.courseAssignmentCount}"></p:outputLabel></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header_"  colspan="6"><h1><p:outputLabel value="Charge"/></h1></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header"><p:outputLabel  style="font-weight: bold" value="Charges Totale par an" /></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.value.equiv}">
                                                    <f:convertNumber pattern="#0.000" />
                                                </p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Charges Totale par semaine" /></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.valueWeek.equiv}">
                                                    <f:convertNumber pattern="#0.000" />
                                                </p:outputLabel></p:column>
                                        </p:row>                                    

                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Charges Supplémentaires hors du par an" /></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.neededAbsolute.value.equiv}">
                                                    <f:convertNumber pattern="#0.000" />
                                                </p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Charges Supplémentaires hors du par semaine" /></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.neededAbsolute.valueWeek.equiv}">
                                                    <f:convertNumber pattern="#0.000" />
                                                </p:outputLabel></p:column>
                                        </p:row>                                    
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Charges Non Permanents par an"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.neededRelative.value.equiv}">
                                                    <f:convertNumber pattern="#0.000" />
                                                </p:outputLabel>
                                            </p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Charges Non Permanents par semaine"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.neededRelative.valueWeek.equiv}">
                                                    <f:convertNumber pattern="#0.000" />
                                                </p:outputLabel>
                                            </p:column>

                                        </p:row>                                    
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Charges à completer par an"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.missing.value.formatString()}">
                                                </p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  style="font-weight: bold" value="Charges à completer par semaine"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.missing.valueWeek.formatString()}">
                                                </p:outputLabel></p:column>
                                        </p:row>                                    
                                    </p:panelGrid>
                                </div>
                            </div>
                        </p:tab>
                        <p:tab title="Charge">
                            <div class="row">
                                <h1><p:outputLabel value="Charge Annuelle"/></h1>
                                <div class="table-responsive">
                                    <p:panelGrid>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value=""/></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="Du"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="Charge"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="H. Supp."></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="Du/Sem"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="Charge/Sem"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="H. Supp./Sem"></p:outputLabel></p:column>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="A faire"></p:outputLabel></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="C"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.due.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.value.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extra.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.dueWeek.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.valueWeek.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extraWeek.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.missingAssignments.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="TD"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.due.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.value.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extra.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.dueWeek.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.valueWeek.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extraWeek.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.missingAssignments.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel value="TP"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.due.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.value.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extra.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.dueWeek.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.valueWeek.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extraWeek.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.missingAssignments.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="PM"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.due.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.value.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extra.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.dueWeek.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.valueWeek.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extraWeek.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.missingAssignments.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="ui-widget-header" ><p:outputLabel  value="Equiv"/></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.due.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.value.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extra.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.dueWeek.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.valueWeek.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.extraWeek.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.totalAssignment.missingAssignments.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </div>
                            </div>
                            <ui:repeat var="sem" value="#{globalStatCtrl.model.semesters}">
                                <div class="row">
                                    <h1><p:outputLabel value="Semestre #{sem.name}"/></h1>
                                    <div class="table-responsive">
                                        <p:panelGrid>
                                            <p:row>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel  value=""/></p:column>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel value="Du"></p:outputLabel></p:column>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel value="Charge"></p:outputLabel></p:column>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel value="H. Supp."></p:outputLabel></p:column>
                                                <p:column styleClass="ui-widget-header" ><p:outputLabel value="Du/Sem"></p:outputLabel></p:column>
                                                <p:column styleClass="ui-widget-header" ><p:outputLabel value="Charge/Sem"></p:outputLabel></p:column>
                                                <p:column styleClass="ui-widget-header" ><p:outputLabel value="H. Supp./Sem"></p:outputLabel></p:column>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel value="A faire"></p:outputLabel></p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel  value="C"/></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).due.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extra.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).dueWeek.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extraWeek.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).missingAssignments.c}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel value="TD"/></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).due.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extra.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).dueWeek.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extraWeek.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).missingAssignments.td}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel value="TP"/></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).due.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extra.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).dueWeek.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extraWeek.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).missingAssignments.tp}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel  value="PM"/></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).due.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extra.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).dueWeek.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extraWeek.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).missingAssignments.pm}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-widget-header"  ><p:outputLabel  value="Equiv"/></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).due.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extra.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).dueWeek.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).value.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).extraWeek.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                                <p:column><p:outputLabel value="#{globalStatCtrl.model.stat.getAssignment(sem,null,null).missingAssignments.equiv}"><f:convertNumber pattern="#0.#"/></p:outputLabel></p:column>
                                            </p:row>
                                        </p:panelGrid>
                                    </div>
                                </div>

                            </ui:repeat>
                        </p:tab>
                        <p:tab title="Détails">
                            <div class="row">
                                <div class="table-responsive">
                                    <p:selectManyCheckbox value="#{globalStatCtrl.model.filters}" layout="grid" columns="3">
                                        <p:ajax listener="#{globalStatCtrl.onFiltersChanged}" update="tabstat"/>

                                        <f:selectItem itemLabel="(#) Enseignants" itemValue="teachersCount" />
                                        <f:selectItem itemLabel="Charge" itemValue="value" />

                                        <f:selectItem itemLabel="Charge Supp." itemValue="extra" />
                                        <f:selectItem itemLabel="H Supp. / Sem" itemValue="valueWeek" />

                                        <f:selectItem itemLabel="Charge Moy / Enseig." itemValue="avgValue" />
                                        <f:selectItem itemLabel="Charge Supp Moy / Enseig." itemValue="avgExtra" />

                                        <f:selectItem itemLabel="Charge Moy / Enseig. / Sem" itemValue="avgValueWeek" />
                                        <f:selectItem itemLabel="Cours" itemValue="C" />
                                        <f:selectItem itemLabel="TD" itemValue="TD" />
                                        <f:selectItem itemLabel="TP" itemValue="TP" />
                                        <f:selectItem itemLabel="PM" itemValue="PM" />
                                        <f:selectItem itemLabel="Equiv" itemValue="EQ" />
                                        <f:selectItem itemLabel="Du" itemValue="due" />
                                    </p:selectManyCheckbox>
                                </div>
                                <!--                                <div class="table-responsive">
                                                                    <p:selectManyCheckbox value="# {globalStatCtrl.model.refreshFilter}" layout="grid" columns="3">
                                                                        <p:ajax listener="# {globalStatCtrl.onRefreshFiltersChanged}" update="tabstat"/>
                                                                        <f:selectItem itemLabel="Inclure les Voeux" itemValue="intents" />
                                                                    </p:selectManyCheckbox>
                                                                </div>-->
                            </div>
                            <div class="row">
                                <div class="table-responsive">
                                    <h1>Détails</h1>

                                    <p:dataTable id="tabstat" var="i" value="#{globalStatCtrl.model.stat.assignments}" class="table table-bordered table-hover"
                                                 paginatorAlwaysVisible="false"
                                                 paginator="true"
                                                 paginatorPosition="bottom"
                                                 rows="20"
                                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 rowsPerPageTemplate="20,50,100,200,1000"
                                                 >
                                        <p:column  styleClass="ui-widget-header"  headerText="Sem/An"  width="7%">
                                            <h:outputText style="#{i.semester==null?'color:red':''}" value="#{i.semester==null?'Année':i.semester.name}" />
                                        </p:column>
                                        <p:column  styleClass="ui-widget-header"  headerText="Situation"  width="10%">
                                            <h:outputText style="#{i.situation==null?'color:red':''}" value="#{i.situation==null?'Toutes':i.situation.name}" />
                                        </p:column>
                                        <p:column  styleClass="ui-widget-header"  headerText="Grade"   width="7%">
                                            <h:outputText style="#{i.degree==null?'color:red':''}" value="#{i.degree==null?'Tous':i.degree.name}" />
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('teachersCount')}" headerText="# Ens."  width="7%">
                                            <h:outputText value="#{i.teachersCount}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column rendered="#{globalStatCtrl.containsFilter('value') and globalStatCtrl.containsFilter('C')}" headerText="C"  >
                                            <h:outputText value="#{i.value.c}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('value') and globalStatCtrl.containsFilter('TD')}" headerText="TD"  >
                                            <h:outputText value="#{i.value.td}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('value') and globalStatCtrl.containsFilter('TP')}" headerText="TP"  >
                                            <h:outputText value="#{i.value.tp}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('value') and globalStatCtrl.containsFilter('PM')}" headerText="PM"  >
                                            <h:outputText value="#{i.value.pm}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('value') and globalStatCtrl.containsFilter('EQ')}" headerText="Eq"  >
                                            <h:outputText value="#{i.value.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column rendered="#{globalStatCtrl.containsFilter('due')}" headerText="Du"  >
                                            <h:outputText value="#{i.due.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>

                                        <p:column rendered="#{globalStatCtrl.containsFilter('due')}" headerText="Du/s"  >
                                            <h:outputText value="#{i.dueWeek.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>

                                        <p:column rendered="#{globalStatCtrl.containsFilter('valueWeek') and globalStatCtrl.containsFilter('C')}" headerText="C/s"  >
                                            <h:outputText value="#{i.valueWeek.c}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('valueWeek') and globalStatCtrl.containsFilter('TD')}" headerText="TD/s"  >
                                            <h:outputText value="#{i.valueWeek.td}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('valueWeek') and globalStatCtrl.containsFilter('TP')}" headerText="TP/s"  >
                                            <h:outputText value="#{i.valueWeek.tp}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('valueWeek') and globalStatCtrl.containsFilter('PM')}" headerText="PM/s" >
                                            <h:outputText value="#{i.valueWeek.pm}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column   rendered="#{globalStatCtrl.containsFilter('valueWeek') and globalStatCtrl.containsFilter('EQ')}" headerText="Eq/s" >
                                            <h:outputText value="#{i.valueWeek.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>

                                        <p:column   rendered="#{globalStatCtrl.containsFilter('extra') and globalStatCtrl.containsFilter('C')}" headerText="Supp C/s"  >
                                            <h:outputText value="#{i.extraWeek.c}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('extra') and globalStatCtrl.containsFilter('TD')}" headerText="Supp TD/s"  >
                                            <h:outputText value="#{i.extraWeek.td}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('extra') and globalStatCtrl.containsFilter('EQ')}" headerText="Supp Eq/s">
                                            <h:outputText value="#{i.extraWeek.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>

                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValue') and globalStatCtrl.containsFilter('C')}" headerText="Moy C" >
                                            <h:outputText value="#{i.avgValue.c}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValue') and globalStatCtrl.containsFilter('TD')}" headerText="Moy TD">
                                            <h:outputText value="#{i.avgValue.td}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValue') and globalStatCtrl.containsFilter('TD')}" headerText="Moy TP">
                                            <h:outputText value="#{i.avgValue.tp}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValue') and globalStatCtrl.containsFilter('PM')}" headerText="Moy PM">
                                            <h:outputText value="#{i.avgValue.pm}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValue') and globalStatCtrl.containsFilter('EQ')}" headerText="Moy Eq">
                                            <h:outputText value="#{i.avgValue.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>

                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgExtra') and globalStatCtrl.containsFilter('C')}" headerText="Moy Supp C">
                                            <h:outputText value="#{i.avgExtra.c}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgExtra') and globalStatCtrl.containsFilter('TD')}" headerText="Moy TD">
                                            <h:outputText value="#{i.avgExtra.td}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgExtra') and globalStatCtrl.containsFilter('EQ')}" headerText="Moy Supp Eq">
                                            <h:outputText value="#{i.avgExtra.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>

                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValueWeek') and globalStatCtrl.containsFilter('C')}" headerText="Moy  Supp C/s">
                                            <h:outputText value="#{i.avgValueWeek.c}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValueWeek') and globalStatCtrl.containsFilter('TD')}" headerText="Moy Supp TD/s">
                                            <h:outputText value="#{i.avgValueWeek.td}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>
                                        <p:column  rendered="#{globalStatCtrl.containsFilter('avgValueWeek') and globalStatCtrl.containsFilter('EQ')}" headerText="Moy Supp Eq/s">
                                            <h:outputText value="#{i.avgValueWeek.equiv}" ><f:convertNumber pattern="#0.#"/></h:outputText>
                                        </p:column>

                                    </p:dataTable>
                                </div>

                            </div>
                        </p:tab>
                        <p:tab title="Graphiques">
                            <p:chart type="pie" model="#{globalStatCtrl.model.chart1}" style="width:500px;height:400px" />
                            <p:chart type="pie" model="#{globalStatCtrl.model.chart2}" style="width:500px;height:400px" />
                        </p:tab>
                    </p:tabView>







                </h:form>



            </ui:define>


        </ui:composition>


    </h:body>

</html>
